INFO:     Will watch for changes in these directories: ['/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [52386] using WatchFiles
INFO:     Started server process [52389]
INFO:     Waiting for application startup.
2025-10-27 21:09:23,910 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-27 21:09:23,910 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:09:23,989 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-27 21:09:23,989 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:09:24,073 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-27 21:09:24,073 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:09:24,132 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-27 21:09:24,136 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,136 INFO sqlalchemy.engine.Engine [generated in 0.00026s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,211 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,211 INFO sqlalchemy.engine.Engine [cached since 0.07522s ago] {'table_name': 'travelers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,253 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,253 INFO sqlalchemy.engine.Engine [cached since 0.1174s ago] {'table_name': 'trips', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,317 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,317 INFO sqlalchemy.engine.Engine [cached since 0.1818s ago] {'table_name': 'quotes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,380 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,381 INFO sqlalchemy.engine.Engine [cached since 0.245s ago] {'table_name': 'policies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,431 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,431 INFO sqlalchemy.engine.Engine [cached since 0.2952s ago] {'table_name': 'claims', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,471 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,471 INFO sqlalchemy.engine.Engine [cached since 0.3351s ago] {'table_name': 'chat_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,511 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,511 INFO sqlalchemy.engine.Engine [cached since 0.3751s ago] {'table_name': 'audit_log', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,551 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,551 INFO sqlalchemy.engine.Engine [cached since 0.4151s ago] {'table_name': 'rag_documents', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,592 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,593 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'typname_1': 'producttype', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,631 INFO sqlalchemy.engine.Engine CREATE TYPE producttype AS ENUM ('SINGLE', 'ANNUAL')
2025-10-27 21:09:24,632 INFO sqlalchemy.engine.Engine [no key 0.00027s] {}
2025-10-27 21:09:24,692 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,692 INFO sqlalchemy.engine.Engine [cached since 0.09959s ago] {'typname_1': 'quotestatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,729 INFO sqlalchemy.engine.Engine CREATE TYPE quotestatus AS ENUM ('DRAFT', 'RANGED', 'FIRMED', 'EXPIRED')
2025-10-27 21:09:24,729 INFO sqlalchemy.engine.Engine [no key 0.00008s] {}
2025-10-27 21:09:24,758 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:09:24,758 INFO sqlalchemy.engine.Engine [cached since 0.1658s ago] {'typname_1': 'policystatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:09:24,811 INFO sqlalchemy.engine.Engine CREATE TYPE policystatus AS ENUM ('ACTIVE', 'CANCELLED', 'EXPIRED')
2025-10-27 21:09:24,811 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
2025-10-27 21:09:24,898 INFO sqlalchemy.engine.Engine 
CREATE TABLE users (
	id UUID NOT NULL, 
	email VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN, 
	is_verified BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-27 21:09:24,898 INFO sqlalchemy.engine.Engine [no key 0.00015s] {}
2025-10-27 21:09:24,969 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX ix_users_email ON users (email)
2025-10-27 21:09:24,969 INFO sqlalchemy.engine.Engine [no key 0.00019s] {}
2025-10-27 21:09:24,997 INFO sqlalchemy.engine.Engine 
CREATE TABLE rag_documents (
	id UUID NOT NULL, 
	title VARCHAR NOT NULL, 
	insurer_name VARCHAR NOT NULL, 
	product_code VARCHAR NOT NULL, 
	section_id VARCHAR NOT NULL, 
	heading VARCHAR NOT NULL, 
	text TEXT NOT NULL, 
	citations JSONB, 
	embedding VECTOR(1536), 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-27 21:09:24,997 INFO sqlalchemy.engine.Engine [no key 0.00028s] {}
2025-10-27 21:09:25,102 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     Application startup complete.
‚ö†Ô∏è  Database connection failed (will retry on first request): (psycopg2.errors.UndefinedObject) type "vector" does not exist
LINE 11:  embedding VECTOR(1536), 
  
   Server will continue - chat will work without persistence
üöÄ ConvoTravelInsure v1.0.0 started
INFO:     127.0.0.1:65047 - "POST /api/v1/chat/session HTTP/1.1" 200 OK
‚ö†Ô∏è  Checkpointing disabled for Phase 1 (will enable in Phase 2)
‚ö†Ô∏è  Checkpointing not available, using non-persistent mode

üí¨ Processing message for session 4e41d001...
   User message: 'I need travel insurance...'
üîÄ Routing #0: intent=quote
   confirmed=False, ready=False
   area=False, quote=False, complete=False
   ‚Üí needs_assessment
üîÄ Routing #0: intent=quote
   ‚Üí END (AI message added)
‚úÖ LangGraph execution complete
   State keys: ['messages', 'current_intent', 'confidence_score', 'trip_details', 'travelers_data', 'preferences', 'awaiting_confirmation', 'confirmation_received', '_loop_count', '_ready_for_pricing', '_pricing_complete']
   Agent response: 'I'd be happy to help you with travel insurance! Where are you planning to travel...'
INFO:     127.0.0.1:65049 - "POST /api/v1/chat/message HTTP/1.1" 200 OK

üí¨ Processing message for session 4e41d001...
   User message: 'Japan...'
üîÄ Routing #0: intent=quote
   confirmed=False, ready=False
   area=False, quote=False, complete=False
   ‚Üí needs_assessment
üîÄ Routing #0: intent=quote
   ‚Üí END (AI message added)
‚úÖ LangGraph execution complete
   State keys: ['messages', 'current_intent', 'confidence_score', 'trip_details', 'travelers_data', 'preferences', 'current_question', 'awaiting_confirmation', 'confirmation_received', '_loop_count', '_ready_for_pricing', '_pricing_complete']
   Agent response: 'When does your trip start? Please provide the date in YYYY-MM-DD format. For exa...'
INFO:     127.0.0.1:65054 - "POST /api/v1/chat/message HTTP/1.1" 200 OK

üí¨ Processing message for session 4e41d001...
   User message: '2025-12-15...'
üîÄ Routing #0: intent=quote
   confirmed=False, ready=False
   area=False, quote=False, complete=False
   ‚Üí needs_assessment
üîÄ Routing #0: intent=quote
   ‚Üí END (AI message added)
‚úÖ LangGraph execution complete
   State keys: ['messages', 'current_intent', 'confidence_score', 'trip_details', 'travelers_data', 'preferences', 'awaiting_confirmation', 'confirmation_received', '_loop_count', '_ready_for_pricing', '_pricing_complete']
   Agent response: 'I'd be happy to help you with travel insurance! Where are you planning to travel...'
INFO:     127.0.0.1:65056 - "POST /api/v1/chat/message HTTP/1.1" 200 OK

üí¨ Processing message for session 4e41d001...
   User message: '2025-12-22...'
üîÄ Routing #0: intent=quote
   confirmed=False, ready=False
   area=False, quote=False, complete=False
   ‚Üí needs_assessment
üîÄ Routing #0: intent=quote
   ‚Üí END (AI message added)
‚úÖ LangGraph execution complete
   State keys: ['messages', 'current_intent', 'confidence_score', 'trip_details', 'travelers_data', 'preferences', 'awaiting_confirmation', 'confirmation_received', '_loop_count', '_ready_for_pricing', '_pricing_complete']
   Agent response: 'I'd be happy to help you with travel insurance! Where are you planning to travel...'
INFO:     127.0.0.1:65060 - "POST /api/v1/chat/message HTTP/1.1" 200 OK

üí¨ Processing message for session 4e41d001...
   User message: '1 traveler, age 30...'
üîÄ Routing #0: intent=quote
   confirmed=False, ready=False
   area=False, quote=False, complete=False
   ‚Üí needs_assessment
üîÄ Routing #0: intent=quote
   ‚Üí END (AI message added)
‚úÖ LangGraph execution complete
   State keys: ['messages', 'current_intent', 'confidence_score', 'trip_details', 'travelers_data', 'preferences', 'awaiting_confirmation', 'confirmation_received', '_loop_count', '_ready_for_pricing', '_pricing_complete']
   Agent response: 'I'd be happy to help you with travel insurance! Where are you planning to travel...'
INFO:     127.0.0.1:65063 - "POST /api/v1/chat/message HTTP/1.1" 200 OK

üí¨ Processing message for session 4e41d001...
   User message: 'No...'
üîÄ Routing #0: intent=quote
   confirmed=False, ready=False
   area=False, quote=False, complete=False
   ‚Üí needs_assessment
üîÄ Routing #0: intent=quote
   ‚Üí END (AI message added)
‚úÖ LangGraph execution complete
   State keys: ['messages', 'current_intent', 'confidence_score', 'trip_details', 'travelers_data', 'preferences', 'awaiting_confirmation', 'confirmation_received', '_loop_count', '_ready_for_pricing', '_pricing_complete']
   Agent response: 'I'd be happy to help you with travel insurance! Where are you planning to travel...'
INFO:     127.0.0.1:65066 - "POST /api/v1/chat/message HTTP/1.1" 200 OK

üí¨ Processing message for session 4e41d001...
   User message: 'Yes...'
üîÄ Routing #0: intent=quote
   confirmed=False, ready=False
   area=False, quote=False, complete=False
   ‚Üí needs_assessment
üîÄ Routing #0: intent=quote
   ‚Üí END (AI message added)
‚úÖ LangGraph execution complete
   State keys: ['messages', 'current_intent', 'confidence_score', 'trip_details', 'travelers_data', 'preferences', 'awaiting_confirmation', 'confirmation_received', '_loop_count', '_ready_for_pricing', '_pricing_complete']
   Agent response: 'I'd be happy to help you with travel insurance! Where are you planning to travel...'
INFO:     127.0.0.1:65068 - "POST /api/v1/chat/message HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'alembic/versions/242406320e71_properly_create_all_tables.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [52389]
INFO:     Started server process [52586]
INFO:     Waiting for application startup.
2025-10-27 21:12:28,025 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-27 21:12:28,025 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:12:28,102 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-27 21:12:28,102 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:12:28,164 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-27 21:12:28,164 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:12:28,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-27 21:12:28,236 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,236 INFO sqlalchemy.engine.Engine [generated in 0.00024s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,307 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,307 INFO sqlalchemy.engine.Engine [cached since 0.07143s ago] {'table_name': 'travelers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,345 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,345 INFO sqlalchemy.engine.Engine [cached since 0.1088s ago] {'table_name': 'trips', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,381 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,381 INFO sqlalchemy.engine.Engine [cached since 0.1453s ago] {'table_name': 'quotes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,412 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,413 INFO sqlalchemy.engine.Engine [cached since 0.1766s ago] {'table_name': 'policies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,444 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,444 INFO sqlalchemy.engine.Engine [cached since 0.2084s ago] {'table_name': 'claims', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,528 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,528 INFO sqlalchemy.engine.Engine [cached since 0.292s ago] {'table_name': 'chat_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,622 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,622 INFO sqlalchemy.engine.Engine [cached since 0.386s ago] {'table_name': 'audit_log', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,716 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,716 INFO sqlalchemy.engine.Engine [cached since 0.48s ago] {'table_name': 'rag_documents', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,757 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,757 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'typname_1': 'producttype', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,795 INFO sqlalchemy.engine.Engine CREATE TYPE producttype AS ENUM ('SINGLE', 'ANNUAL')
2025-10-27 21:12:28,796 INFO sqlalchemy.engine.Engine [no key 0.00018s] {}
2025-10-27 21:12:28,853 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:28,853 INFO sqlalchemy.engine.Engine [cached since 0.09628s ago] {'typname_1': 'quotestatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:28,896 INFO sqlalchemy.engine.Engine CREATE TYPE quotestatus AS ENUM ('DRAFT', 'RANGED', 'FIRMED', 'EXPIRED')
2025-10-27 21:12:28,896 INFO sqlalchemy.engine.Engine [no key 0.00016s] {}
2025-10-27 21:12:29,157 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:29,157 INFO sqlalchemy.engine.Engine [cached since 0.4008s ago] {'typname_1': 'policystatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:29,200 INFO sqlalchemy.engine.Engine CREATE TYPE policystatus AS ENUM ('ACTIVE', 'CANCELLED', 'EXPIRED')
2025-10-27 21:12:29,200 INFO sqlalchemy.engine.Engine [no key 0.00021s] {}
2025-10-27 21:12:29,240 INFO sqlalchemy.engine.Engine 
CREATE TABLE users (
	id UUID NOT NULL, 
	email VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN, 
	is_verified BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-27 21:12:29,241 INFO sqlalchemy.engine.Engine [no key 0.00016s] {}
2025-10-27 21:12:29,304 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX ix_users_email ON users (email)
2025-10-27 21:12:29,305 INFO sqlalchemy.engine.Engine [no key 0.00017s] {}
2025-10-27 21:12:29,344 INFO sqlalchemy.engine.Engine 
CREATE TABLE rag_documents (
	id UUID NOT NULL, 
	title VARCHAR NOT NULL, 
	insurer_name VARCHAR NOT NULL, 
	product_code VARCHAR NOT NULL, 
	section_id VARCHAR NOT NULL, 
	heading VARCHAR NOT NULL, 
	text TEXT NOT NULL, 
	citations JSONB, 
	embedding VECTOR(1536), 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-27 21:12:29,344 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
2025-10-27 21:12:29,661 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/242406320e71_properly_create_all_tables.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [52586]
‚ö†Ô∏è  Database connection failed (will retry on first request): (psycopg2.errors.UndefinedObject) type "vector" does not exist
LINE 11:  embedding VECTOR(1536), 
  
   Server will continue - chat will work without persistence
üöÄ ConvoTravelInsure v1.0.0 started
INFO:     Started server process [52603]
INFO:     Waiting for application startup.
2025-10-27 21:12:41,424 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-27 21:12:41,424 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:12:41,476 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-27 21:12:41,476 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:12:41,535 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-27 21:12:41,535 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:12:41,588 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-27 21:12:41,591 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,591 INFO sqlalchemy.engine.Engine [generated in 0.00033s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,656 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,656 INFO sqlalchemy.engine.Engine [cached since 0.06472s ago] {'table_name': 'travelers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,694 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,694 INFO sqlalchemy.engine.Engine [cached since 0.1026s ago] {'table_name': 'trips', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,724 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,724 INFO sqlalchemy.engine.Engine [cached since 0.1327s ago] {'table_name': 'quotes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,755 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,755 INFO sqlalchemy.engine.Engine [cached since 0.1635s ago] {'table_name': 'policies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,793 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,793 INFO sqlalchemy.engine.Engine [cached since 0.2024s ago] {'table_name': 'claims', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,824 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,824 INFO sqlalchemy.engine.Engine [cached since 0.2325s ago] {'table_name': 'chat_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,854 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,854 INFO sqlalchemy.engine.Engine [cached since 0.2632s ago] {'table_name': 'audit_log', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,893 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,894 INFO sqlalchemy.engine.Engine [cached since 0.3024s ago] {'table_name': 'rag_documents', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,928 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:41,928 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'typname_1': 'producttype', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:41,976 INFO sqlalchemy.engine.Engine CREATE TYPE producttype AS ENUM ('SINGLE', 'ANNUAL')
2025-10-27 21:12:41,976 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
2025-10-27 21:12:42,017 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:42,017 INFO sqlalchemy.engine.Engine [cached since 0.08934s ago] {'typname_1': 'quotestatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:42,056 INFO sqlalchemy.engine.Engine CREATE TYPE quotestatus AS ENUM ('DRAFT', 'RANGED', 'FIRMED', 'EXPIRED')
2025-10-27 21:12:42,056 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
2025-10-27 21:12:42,087 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:12:42,087 INFO sqlalchemy.engine.Engine [cached since 0.1592s ago] {'typname_1': 'policystatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:12:42,123 INFO sqlalchemy.engine.Engine CREATE TYPE policystatus AS ENUM ('ACTIVE', 'CANCELLED', 'EXPIRED')
2025-10-27 21:12:42,124 INFO sqlalchemy.engine.Engine [no key 0.00011s] {}
2025-10-27 21:12:42,160 INFO sqlalchemy.engine.Engine 
CREATE TABLE users (
	id UUID NOT NULL, 
	email VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN, 
	is_verified BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-27 21:12:42,160 INFO sqlalchemy.engine.Engine [no key 0.00014s] {}
2025-10-27 21:12:42,196 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX ix_users_email ON users (email)
2025-10-27 21:12:42,196 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
2025-10-27 21:12:42,228 INFO sqlalchemy.engine.Engine 
CREATE TABLE rag_documents (
	id UUID NOT NULL, 
	title VARCHAR NOT NULL, 
	insurer_name VARCHAR NOT NULL, 
	product_code VARCHAR NOT NULL, 
	section_id VARCHAR NOT NULL, 
	heading VARCHAR NOT NULL, 
	text TEXT NOT NULL, 
	citations JSONB, 
	embedding VECTOR(1536), 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-27 21:12:42,228 INFO sqlalchemy.engine.Engine [no key 0.00010s] {}
2025-10-27 21:12:42,264 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/242406320e71_properly_create_all_tables.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [52603]
‚ö†Ô∏è  Database connection failed (will retry on first request): (psycopg2.errors.UndefinedObject) type "vector" does not exist
LINE 11:  embedding VECTOR(1536), 
  
   Server will continue - chat will work without persistence
üöÄ ConvoTravelInsure v1.0.0 started
INFO:     Started server process [52660]
INFO:     Waiting for application startup.
2025-10-27 21:15:30,012 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-27 21:15:30,012 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:15:30,078 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-27 21:15:30,078 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:15:30,152 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-27 21:15:30,152 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:15:30,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-27 21:15:30,215 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,215 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,334 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,334 INFO sqlalchemy.engine.Engine [cached since 0.1186s ago] {'table_name': 'travelers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,373 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,373 INFO sqlalchemy.engine.Engine [cached since 0.1581s ago] {'table_name': 'trips', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,413 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,413 INFO sqlalchemy.engine.Engine [cached since 0.1982s ago] {'table_name': 'quotes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,454 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,454 INFO sqlalchemy.engine.Engine [cached since 0.239s ago] {'table_name': 'policies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,495 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,495 INFO sqlalchemy.engine.Engine [cached since 0.2798s ago] {'table_name': 'claims', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,543 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,543 INFO sqlalchemy.engine.Engine [cached since 0.3279s ago] {'table_name': 'chat_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,582 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,582 INFO sqlalchemy.engine.Engine [cached since 0.3672s ago] {'table_name': 'audit_log', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,622 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,622 INFO sqlalchemy.engine.Engine [cached since 0.407s ago] {'table_name': 'rag_documents', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,665 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,665 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'typname_1': 'producttype', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,702 INFO sqlalchemy.engine.Engine CREATE TYPE producttype AS ENUM ('SINGLE', 'ANNUAL')
2025-10-27 21:15:30,703 INFO sqlalchemy.engine.Engine [no key 0.00023s] {}
2025-10-27 21:15:30,741 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,741 INFO sqlalchemy.engine.Engine [cached since 0.07626s ago] {'typname_1': 'quotestatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,770 INFO sqlalchemy.engine.Engine CREATE TYPE quotestatus AS ENUM ('DRAFT', 'RANGED', 'FIRMED', 'EXPIRED')
2025-10-27 21:15:30,771 INFO sqlalchemy.engine.Engine [no key 0.00026s] {}
2025-10-27 21:15:30,797 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:30,797 INFO sqlalchemy.engine.Engine [cached since 0.1323s ago] {'typname_1': 'policystatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:30,853 INFO sqlalchemy.engine.Engine CREATE TYPE policystatus AS ENUM ('ACTIVE', 'CANCELLED', 'EXPIRED')
2025-10-27 21:15:30,853 INFO sqlalchemy.engine.Engine [no key 0.00028s] {}
2025-10-27 21:15:30,911 INFO sqlalchemy.engine.Engine 
CREATE TABLE users (
	id UUID NOT NULL, 
	email VARCHAR NOT NULL, 
	name VARCHAR NOT NULL, 
	hashed_password VARCHAR NOT NULL, 
	is_active BOOLEAN, 
	is_verified BOOLEAN, 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-27 21:15:30,911 INFO sqlalchemy.engine.Engine [no key 0.00029s] {}
2025-10-27 21:15:30,959 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX ix_users_email ON users (email)
2025-10-27 21:15:30,959 INFO sqlalchemy.engine.Engine [no key 0.00025s] {}
2025-10-27 21:15:31,013 INFO sqlalchemy.engine.Engine 
CREATE TABLE rag_documents (
	id UUID NOT NULL, 
	title VARCHAR NOT NULL, 
	insurer_name VARCHAR NOT NULL, 
	product_code VARCHAR NOT NULL, 
	section_id VARCHAR NOT NULL, 
	heading VARCHAR NOT NULL, 
	text TEXT NOT NULL, 
	citations JSONB, 
	embedding VECTOR(1536), 
	created_at TIMESTAMP WITH TIME ZONE DEFAULT now(), 
	updated_at TIMESTAMP WITH TIME ZONE, 
	PRIMARY KEY (id)
)


2025-10-27 21:15:31,013 INFO sqlalchemy.engine.Engine [no key 0.00023s] {}
2025-10-27 21:15:31,061 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'alembic/versions/242406320e71_properly_create_all_tables.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [52660]
‚ö†Ô∏è  Database connection failed (will retry on first request): (psycopg2.errors.UndefinedObject) type "vector" does not exist
LINE 11:  embedding VECTOR(1536), 
  
   Server will continue - chat will work without persistence
üöÄ ConvoTravelInsure v1.0.0 started
INFO:     Started server process [52722]
INFO:     Waiting for application startup.
2025-10-27 21:15:54,545 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-27 21:15:54,546 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:15:54,615 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-27 21:15:54,616 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:15:54,673 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-27 21:15:54,673 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:15:54,722 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-27 21:15:54,728 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:54,728 INFO sqlalchemy.engine.Engine [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:54,805 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:54,805 INFO sqlalchemy.engine.Engine [cached since 0.07753s ago] {'table_name': 'travelers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:54,841 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:54,842 INFO sqlalchemy.engine.Engine [cached since 0.1142s ago] {'table_name': 'trips', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:54,872 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:54,873 INFO sqlalchemy.engine.Engine [cached since 0.1452s ago] {'table_name': 'quotes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:54,915 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:54,915 INFO sqlalchemy.engine.Engine [cached since 0.188s ago] {'table_name': 'policies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:54,954 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:54,954 INFO sqlalchemy.engine.Engine [cached since 0.2264s ago] {'table_name': 'claims', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:54,983 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:54,984 INFO sqlalchemy.engine.Engine [cached since 0.2562s ago] {'table_name': 'chat_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:55,021 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:55,021 INFO sqlalchemy.engine.Engine [cached since 0.294s ago] {'table_name': 'audit_log', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:55,053 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:55,054 INFO sqlalchemy.engine.Engine [cached since 0.3262s ago] {'table_name': 'rag_documents', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:55,087 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:55,087 INFO sqlalchemy.engine.Engine [generated in 0.00038s] {'typname_1': 'producttype', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:55,124 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:55,124 INFO sqlalchemy.engine.Engine [cached since 0.03726s ago] {'typname_1': 'quotestatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:55,164 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:15:55,164 INFO sqlalchemy.engine.Engine [cached since 0.07738s ago] {'typname_1': 'policystatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:15:55,196 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
‚úì Database tables initialized
üöÄ ConvoTravelInsure v1.0.0 started
INFO:     127.0.0.1:49974 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:50007 - "GET /api/v1 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50028 - "GET /api/v1 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50028 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50028 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:50028 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:51165 - "GET /health HTTP/1.1" 200 OK
2025-10-27 21:32:29,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-27 21:32:29,419 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.name AS users_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-27 21:32:29,419 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'email_1': 'test@example.com', 'param_1': 1}
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-27 21:32:29,578 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:52246 - "POST /api/v1/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        dependant=dependant, values=values, is_coroutine=is_coroutine
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/app/routers/auth.py", line 52, in register
    hashed_password = get_password_hash(user_data.password)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/app/core/security.py", line 29, in get_password_hash
    return pwd_context.hash(password)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    ~~~~~~~~~~~~~~~^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2025-10-27 21:40:23,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-27 21:40:23,778 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.name AS users_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-27 21:40:23,778 INFO sqlalchemy.engine.Engine [cached since 474.4s ago] {'email_1': 'test@example.com', 'param_1': 1}
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-27 21:40:23,914 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:53182 - "POST /api/v1/auth/register HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        dependant=dependant, values=values, is_coroutine=is_coroutine
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/app/routers/auth.py", line 52, in register
    hashed_password = get_password_hash(user_data.password)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/app/core/security.py", line 29, in get_password_hash
    return pwd_context.hash(password)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    ~~~~~~~~~~~~~~~^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ~~~~~~^^^^^^^^^^^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/Users/winstonyang/Desktop/Coding/Hackathons/Singhacks/apps/backend/venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
WARNING:  WatchFiles detected changes in 'venv/lib/python3.13/site-packages/~crypt/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [52722]
WARNING:  WatchFiles detected changes in 'venv/lib/python3.13/site-packages/bcrypt/__init__.py', 'venv/lib/python3.13/site-packages/bcrypt/__about__.py'. Reloading...
INFO:     Started server process [54375]
INFO:     Waiting for application startup.
2025-10-27 21:41:15,111 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-27 21:41:15,111 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:41:15,193 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-27 21:41:15,193 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:41:15,257 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-27 21:41:15,257 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-27 21:41:15,308 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-27 21:41:15,312 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,312 INFO sqlalchemy.engine.Engine [generated in 0.00023s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,421 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,421 INFO sqlalchemy.engine.Engine [cached since 0.1098s ago] {'table_name': 'travelers', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,473 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,473 INFO sqlalchemy.engine.Engine [cached since 0.1614s ago] {'table_name': 'trips', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,517 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,518 INFO sqlalchemy.engine.Engine [cached since 0.2061s ago] {'table_name': 'quotes', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,558 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,559 INFO sqlalchemy.engine.Engine [cached since 0.2471s ago] {'table_name': 'policies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,598 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,598 INFO sqlalchemy.engine.Engine [cached since 0.2863s ago] {'table_name': 'claims', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,657 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,658 INFO sqlalchemy.engine.Engine [cached since 0.3461s ago] {'table_name': 'chat_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,710 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,710 INFO sqlalchemy.engine.Engine [cached since 0.3985s ago] {'table_name': 'audit_log', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,756 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,756 INFO sqlalchemy.engine.Engine [cached since 0.445s ago] {'table_name': 'rag_documents', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,799 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,799 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'typname_1': 'producttype', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,841 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,841 INFO sqlalchemy.engine.Engine [cached since 0.04188s ago] {'typname_1': 'quotestatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,879 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = %(typname_1)s AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-27 21:41:15,879 INFO sqlalchemy.engine.Engine [cached since 0.07996s ago] {'typname_1': 'policystatus', 'nspname_1': 'pg_catalog'}
2025-10-27 21:41:15,938 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54375]
‚úì Database tables initialized
üöÄ ConvoTravelInsure v1.0.0 started
INFO:     Stopping reloader process [52386]
